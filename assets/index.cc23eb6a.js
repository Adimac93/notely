var T=Object.defineProperty,L=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var f=(t,e,s)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,y=(t,e)=>{for(var s in e||(e={}))I.call(e,s)&&f(t,s,e[s]);if(b)for(var s of b(e))V.call(e,s)&&f(t,s,e[s]);return t},c=(t,e)=>L(t,N(e));import{d as g,c as l,a as o,n as v,t as p,b as k,o as i,w as m,v as h,e as w,r as x,f as P,F as $,g as A,h as j,i as D}from"./vendor.394b2a1a.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};M();const B={class:"rounded-sm p-1"},F={class:"inline-flex"},H={class:"font-bold text-black focus:outline-none",type:"button"},O=o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24"},[o("path",{d:"M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"})],-1),U=[O],E={key:0,class:"dark:bg-gray-100 border px-10 py-6 rounded-b-md"};function K(t){return(e,s)=>(i(),l("div",B,[o("div",F,[o("div",{class:v(["border bg-gray-100 px-10 py-6 shadow-md hover:opacity-70",{"rounded-md rounded-r-none":!e.isVisible,"rounded-t-md rounded-r-none":e.isVisible}]),onClick:s[0]||(s[0]=r=>e.isVisible=!e.isVisible)},[o("button",H,p(t.noteTitle),1)],2),o("button",{class:v(["border bg-gray-100 px-6 py-6 shadow-md rounded-r-md hover:opacity-70",{"rounded-b-none":e.isVisible}]),onClick:s[1]||(s[1]=r=>e.$emit("delete",r))},U,2)]),e.isVisible?(i(),l("div",E,p(t.noteText),1)):k("",!0)]))}const J=g({data(){return{isVisible:!1}}}),R=g(c(y({},J),{props:{noteTitle:{type:String,default:"Title"},noteText:{type:String,default:"Text"}},setup:K})),q={key:0,class:"dark:bg-gray-800 dark:text-gray-100 inline-flex bg-gray-100 rounded-md m-5"},z=o("label",{class:"m-2"},"Enter your password to log in",-1),W={key:1,class:"justify-center items-center inline-flex dark:bg-gray-800 dark:text-gray-100 bg-gray-100 rounded-md"},Z=o("label",{class:"m-2"},"Enter your password to register",-1);function _(t){return(e,s)=>e.password?(i(),l("div",q,[z,m(o("input",{class:"dark:bg-gray-700 border-2 rounded-md m-2",type:"password","onUpdate:modelValue":s[0]||(s[0]=r=>e.password1=r),onKeyup:s[1]||(s[1]=w(r=>e.checkPassword(e.password1),["enter"]))},null,544),[[h,e.password1]]),o("button",{class:"inline-block dark:hover:text-gray-900 hover:text-white self-center text-sm h-8 px-4 py-2 mx-2 leading-none border rounded-md dark:text-white text-gray-800 dark:border-white border-gray-800 hover:border-transparent dark:hover:bg-white hover:bg-gray-800",onClick:s[2]||(s[2]=r=>e.checkPassword(e.password1))},"Log in")])):(i(),l("div",W,[Z,m(o("input",{class:"dark:bg-gray-700 border-2 rounded-md m-2","onUpdate:modelValue":s[3]||(s[3]=r=>e.password1=r),type:"password",placeholder:"Enter your password...",onKeyup:s[4]||(s[4]=w(r=>e.checkPassword(e.password1),["enter"]))},null,544),[[h,e.password1]]),m(o("input",{class:"dark:bg-gray-700 border-2 rounded-md m-2","onUpdate:modelValue":s[5]||(s[5]=r=>e.password2=r),type:"password",placeholder:"Repeat your password...",onKeyup:s[6]||(s[6]=w(r=>e.checkPassword(e.password1),["enter"]))},null,544),[[h,e.password2]]),o("button",{class:"inline-block dark:hover:text-gray-900 hover:text-white self-center text-sm h-8 px-4 py-2 mx-2 leading-none border rounded-md dark:text-white text-gray-800 dark:border-white border-gray-800 hover:border-transparent dark:hover:bg-white hover:bg-gray-800",onClick:s[7]||(s[7]=r=>e.savePassword(e.password1,e.password2))},"Register")]))}const G=g({data(){var t;return{password:(t=localStorage.getItem("password"))!=null?t:"",password1:"",password2:"",sessionHash:""}},methods:{async checkPassword(t){await this.encrypt(t)==localStorage.getItem("password")?(console.log("+Matching password"),this.$emit("logIn",!0)):(console.log("+Wrong password"),this.$emit("logIn",!1))},async savePassword(t,e){if(t==e){let s=await this.encrypt(t);localStorage.setItem("password",s),this.$emit("logIn",!0),console.log("+Account created")}},async encrypt(t){const e=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}}}),Q=g(c(y({},G),{setup:_}));var X=(t,e)=>{for(const[s,r]of e)t[s]=r;return t};const Y=g({components:{NoteDisplay:R,PasswordManager:Q},name:"app",data(){var t,e;return{title:"",text:"",notes:JSON.parse((t=localStorage.getItem("notes"))!=null?t:"[]"),maxCharsText:1e4,currentChars:0,maxCharsTitle:20,isLoggedIn:!1,isMatching:!1,password:(e=localStorage.getItem("password"))!=null?e:"",password1:"",password2:""}},methods:{playSound(t){if(t){var e=new Audio(t);e.volume=.08,e.play()}},saveNote(){this.title!=""&&this.text!=""&&(this.notes.unshift({title:this.title,text:this.text,iat:new Date().getTime()}),localStorage.setItem("notes",JSON.stringify(this.notes)))},clearFields(){this.title="",this.text=""},displayNote(t){this.title=this.notes[t].title,this.text=this.notes[t].text},delNote(t){this.notes.splice(t,1),localStorage.setItem("notes",JSON.stringify(this.notes))}},checkPassword(t){}}),ee=o("header",null,null,-1),te={class:"dark:bg-gray-900 min-h-screen"},se={class:"flex items-center justify-between flex-wrap dark:bg-gray-800 bg-gray-200 p-2 mb-4"},oe=o("div",{class:"flex items-center flex-shrink-0 text-gray-800 dark:text-white mr-6"},[o("span",{class:"font-bold text-xl tracking-tight select-none"},"Notes")],-1),re={class:"grid justify-items-center justify-center mx-10"},ne={key:0,class:"justify-center items-center flex password-box h-screen"},ae={key:1,class:"note-box grid justify-items-center justify-center mx-10"},de=["maxLength","textContent"],ie=o("br",null,null,-1),le=["maxlength","textContent"],pe={class:"dark:text-gray-100 p-2"},ue={class:"inline-flex"},ge=o("br",null,null,-1),me={class:"note-view items-center cursor-pointer"};function he(t,e,s,r,n,a){const u=x("PasswordManager"),C=x("NoteDisplay");return i(),l($,null,[ee,o("main",te,[o("nav",se,[oe,t.isLoggedIn?(i(),l("button",{key:0,class:"inline-block dark:hover:text-gray-900 hover:text-white text-sm px-4 py-2 leading-none border rounded-md dark:text-white text-gray-800 dark:border-white border-gray-800 hover:border-transparent dark:hover:bg-white hover:bg-gray-800",onClick:e[0]||(e[0]=d=>(t.isLoggedIn=!1,t.password1=""))},"Log out")):k("",!0)]),o("div",re,[t.isLoggedIn?(i(),l("div",ae,[m(o("input",{"onUpdate:modelValue":e[2]||(e[2]=d=>t.title=d),maxLength:t.maxCharsTitle,textContent:p(t.maxCharsTitle-t.title.length),placeholder:"Title...",type:"text",class:"note-content p-2 border-2 rounded-md shadow-sm",onFocus:e[3]||(e[3]=d=>t.playSound("mouse_click.mp3"))},null,40,de),[[h,t.title]]),ie,m(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=d=>t.text=d),maxlength:t.maxCharsText,textContent:p(t.maxCharsText-t.text.length),placeholder:"Place for your note \u21B4",class:"p-2 border-2 rounded-md shadow-sm",rows:"5",cols:"50",onFocus:e[5]||(e[5]=d=>t.playSound("mouse_click.mp3"))},null,40,le),[[h,t.text]]),o("label",pe,p(t.text.length)+" / "+p(t.maxCharsText),1),o("div",ue,[o("button",{class:"note-save shadow-md p-1 w-20 rounded-md bg-gray-100 hover:bg-gray-200 active:bg-gray-100 rounded-r-none",onClick:e[6]||(e[6]=d=>(t.saveNote(),t.playSound("mouse_click.mp3")))},"Save"),o("button",{class:"note-save shadow-md p-1 w-20 rounded-md bg-gray-100 hover:bg-gray-200 active:bg-gray-100 rounded-l-none",onClick:e[7]||(e[7]=d=>(t.clearFields(),t.playSound("mouse_click.mp3")))},"Clear")]),ge,o("ul",me,[(i(!0),l($,null,A(t.notes,(d,S)=>(i(),j(C,{key:d.title,noteTitle:d.title,noteText:d.text,onDelete:ce=>t.delNote(S)},null,8,["noteTitle","noteText","onDelete"]))),128))])])):(i(),l("div",ne,[P(u,{onLogIn:e[1]||(e[1]=d=>t.isLoggedIn=d)})]))])])],64)}var ye=X(Y,[["render",he]]);D(ye).mount("#app");
